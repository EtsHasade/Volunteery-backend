(function(e){function t(t){for(var n,a,o=t[0],c=t[1],l=t[2],d=0,g=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&g.push(r[a][0]),r[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(g.length)g.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],n=!0,o=1;o<s.length;o++){var c=s[o];0!==r[c]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=s[0]))}return e}var n={},r={app:0},i=[];function a(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=n,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"27dc":function(e,t,s){},"2d28":function(e,t,s){e.exports=s.p+"img/logo2.0c2bb58d.svg"},4678:function(e,t,s){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return s(t)}function i(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id="4678"},"4c2b":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n,r=s("2b0e"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main-container",attrs:{id:"app"}},[s("app-header"),s("hero",{ref:"heroCmp",on:{scrollToList:function(t){return e.scrollMeTo("appList")}}}),s("main",{ref:"appList",staticClass:"mb10"},[s("router-view")],1),s("app-footer")],1)},a=[],o=(s("27dc"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"app-header full main-container",class:{scrolly:e.scrollYposition>20}},[n("div",{staticClass:"hedear-container flex space-between"},[n("div",{staticClass:"logo"},[n("img",{staticClass:"logo-img hover-pointer",attrs:{src:s("2d28"),alt:""},on:{click:function(t){return e.$router.push("/")}}})]),n("navbar",{staticClass:"nav-bar-horizontal"}),n("nav-bar-vertical",{staticClass:"nav-bar-vertical"})],1)])}),c=[],l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal",router:!0}},[s("el-menu-item",{attrs:{index:"/eventi-app"}},[e._v("Volunteerings")]),s("el-menu-item",{attrs:{index:"/org-app"}},[e._v("Organizations")]),e.loggedinUser&&e.loggedinUser.org?s("el-menu-item",{attrs:{index:"/eventi-edit"}},[e._v("Publish new Event")]):s("el-menu-item",{attrs:{index:"/org-edit"}},[e._v("I need volunteers")]),s("el-submenu",{staticClass:"user-menu",attrs:{index:"2"}},[s("template",{staticClass:"user-menu",slot:"title"},[e.loggedinUser&&e.loggedinUser.imgUrl?s("img",{attrs:{src:e.loggedinUser.imgUrl,alt:""}}):s("span",[s("i",{staticClass:"fas fa-user-circle",staticStyle:{fontSize:"25px"}})])]),s("el-menu-item",{attrs:{index:"/user-details/"+e.userId,disabled:!e.loggedinUser}},[e._v("User profile")]),e.loggedinUser?s("el-menu-item",{on:{click:e.logout}},[e._v("Logout")]):e._e(),e.loggedinUser?e._e():s("el-menu-item",{attrs:{index:"/login"}},[e._v("Login")]),e.loggedinUser?e._e():s("el-menu-item",{attrs:{index:"/login"}},[e._v("SignUp")])],2)],1)},u=[],d={data:function(){return{activeIndex:"1"}},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser},userId:function(){return this.loggedinUser?this.loggedinUser._id:"0"}},methods:{logout:function(){this.$store.dispatch({type:"logout"}),this.$message({showClose:!0,message:"".concat(this.loggedinUser.fullName," logout sucessfully!"),type:"success",duration:1500})}}},g=d,p=s("2877"),f=Object(p["a"])(g,l,u,!1,null,null,null),m=f.exports,v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.activeIndex,mode:"vertical",router:!0}},[s("el-submenu",{staticClass:"hamburger",attrs:{index:"1"}},[s("template",{staticClass:"hamburger",slot:"title"},[s("i",{staticClass:"fas fa-bars"})]),s("el-submenu",{staticClass:"user-menu",attrs:{index:"2"}},[s("template",{staticClass:"user-menu",slot:"title"},[e.loggedinUser&&e.loggedinUser.imgUrl?s("img",{attrs:{src:e.loggedinUser.imgUrl,alt:""}}):s("span",[s("i",{staticClass:"fas fa-user-circle",staticStyle:{fontSize:"25px"}})])]),s("el-menu-item",{attrs:{index:"/user-details/"+e.userId,disabled:!e.loggedinUser}},[e._v("User profile")]),e.loggedinUser?s("el-menu-item",{on:{click:e.logout}},[e._v("Logout")]):e._e(),e.loggedinUser?e._e():s("el-menu-item",{attrs:{index:"/login"}},[e._v("Login")]),e.loggedinUser?e._e():s("el-menu-item",{attrs:{index:"/login"}},[e._v("SignUp")])],2),s("el-menu-item",{attrs:{index:"/eventi-app"}},[e._v("Volunteerings")]),s("el-menu-item",{attrs:{index:"/org-app"}},[e._v("Organizations")]),e.loggedinUser&&e.loggedinUser.org?s("el-menu-item",{attrs:{index:"/eventi-edit"}},[e._v("Publish new Event")]):s("el-menu-item",{attrs:{index:"/org-edit"}},[e._v("I need volunteers")])],2)],1)},h=[],b={data:function(){return{activeIndex:"1"}},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser},userId:function(){return this.loggedinUser?this.loggedinUser._id:"0"}},methods:{logout:function(){this.$store.dispatch({type:"logout"}),this.$message({showClose:!0,message:"".concat(this.loggedinUser.fullName," logout sucessfully!"),type:"success",duration:1500})}}},y=b,w=Object(p["a"])(y,v,h,!1,null,null,null),_=w.exports,C={name:"app-header",data:function(){return{scrollYposition:0}},components:{navbar:m,navBarVertical:_},created:function(){document.addEventListener("scroll",this.getScroll)},destroyed:function(){Document.removeEventListener("scroll",this.getScroll)},methods:{getScroll:function(){this.scrollYposition=window.scrollY}}},x=C,k=Object(p["a"])(x,o,c,!1,null,null,null),O=k.exports,j=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},E=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",{staticClass:"footer full main-container text-center flex center"},[s("h3",[e._v("Together, we build better world.")]),s("h3",{staticClass:"mrg0"},[e._v("NYE©2020")])])}],$={},U=$,S=Object(p["a"])(U,j,E,!1,null,null,null),I=S.exports,N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"hero",staticClass:"hero full"},[s("div",{staticClass:"title flex-column"},[s("h1",{staticClass:"mb10"},[e._v("Looking for something meaningful?")]),s("p",[e._v("volunteer your way and according to your unique talents")]),s("h4",{staticClass:"call-to-action",on:{click:e.scrollToList}},[e._v(" See our suggestions ")])])])},T=[],L={name:"hero",methods:{scrollToList:function(){this.$emit("scrollToList")}}},R=L,B=Object(p["a"])(R,N,T,!1,null,null,null),D=B.exports,F=s("8e27"),A=s.n(F),J="/",M={setup:z,terminate:P,on:K,off:Y,emit:q};function z(){n=A()(J)}function P(){n=null}function K(e,t){n.on(e,t)}function Y(e,t){n.off(e,t)}function q(e,t){n.emit(e,t)}var H={name:"eventiApp",components:{appHeader:O,appFooter:I,hero:D},methods:{scrollMeTo:function(e){var t=this.$refs[e],s=t.offsetTop;window.scrollTo(0,s-80)}},created:function(){var e=this;M.setup(),M.on("updatesEventi",(function(t){console.log("updatesEventi"),e.$store.getters.loggedinUser&&e.$store.getters.loggedinUser.org&&e.$store.getters.loggedinUser.org._id===t.byOrg._id&&t.notifications>0&&e.$message({showClose:!0,message:"new notification in ".concat(t.title),type:"success",duration:3e3})}))},destroyed:function(){M.terminate()}},G=H,V=(s("5c0b"),Object(p["a"])(G,i,a,!1,null,null,null)),W=V.exports,Q=s("9483");Object(Q["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var X=s("8c4f"),Z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home-page"},[s("eventi-filter",{on:{doFilter:e.routeToEventiFilter}}),e.loggedinUser&&e.loggedinUser.favs?s("section",{staticClass:"suggested"},[s("section",{staticClass:"flex space-between"},[s("h3",[e._v("Suggested for you")]),s("h3",{staticClass:"hover-pointer",on:{click:function(t){return e.$router.push("/eventi-app")}}},[e._v(" Show All ")])]),s("eventi-list",{attrs:{eventis:e.suggestEventis}})],1):e._e(),s("section",{staticClass:"flex space-between"},[s("h3",[e._v("Newest")]),s("h3",{staticClass:"hover-pointer",on:{click:function(t){return e.$router.push("/eventi-app")}}},[e._v(" Show All ")])]),s("eventi-list",{attrs:{eventis:e.newestEventis}}),s("section",{staticClass:"flex space-between"},[s("h3",[e._v("Populars")]),s("h3",{staticClass:"hover-pointer",on:{click:function(t){return e.$router.push("/eventi-app")}}},[e._v(" Show All ")])]),s("eventi-list",{attrs:{eventis:e.popularestEventis}}),e._m(0),s("global-info")],1)},ee=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("div",{staticClass:"articles-row main-a"},[s("a",{staticClass:"article a",attrs:{href:"#/eventi-app/?term=&key=tags&values=Children"}},[s("div",[s("h2",{staticClass:"title"},[e._v("Children")])])]),s("a",{staticClass:"article b",attrs:{href:"#/eventi-app/?term=&key=tags&values=Animals"}},[s("div",[s("h2",{staticClass:"title"},[e._v("Animals")])])])]),s("div",{staticClass:"articles-row main-b"},[s("a",{staticClass:"article c",attrs:{href:"#/eventi-app/?term=&key=tags&values=Fun"}},[s("div",[s("h2",{staticClass:"title"},[e._v("Fun")])])]),s("a",{staticClass:"article d",attrs:{href:"#/eventi-app/?term=&key=tags&values=Needy"}},[s("div",[s("h2",{staticClass:"title"},[e._v("Needy")])])])])])}],te=(s("99af"),s("4160"),s("a434"),s("d3b7"),s("159b"),s("ddb0"),s("2909")),se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"eventi-filter"},[s("form",{staticClass:"search-container flex wrap",on:{click:function(t){return t.preventDefault(),e.emitFilter(t)}}},[s("el-input",{ref:"searchFild",attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'Free Search'",placeholder:"Free Search","suffix-icon":"el-icon-search"},on:{input:e.emitFilter},model:{value:e.filterBy.byText,callback:function(t){e.$set(e.filterBy,"byText",t)},expression:"filterBy.byText"}})],1),e.filterBy.byKey.key&&e.allFilds.keyList?s("el-select",{staticClass:"select-input",attrs:{value:e.allFilds.keyList[0],items:e.allFilds.keyList,placeholder:"filter by..."},on:{input:e.emitFilter},model:{value:e.filterBy.byKey.key,callback:function(t){e.$set(e.filterBy.byKey,"key",t)},expression:"filterBy.byKey.key"}}):e._e(),e.filterBy.byKey.key&&e.options?s("select-multi",{staticClass:"select-input",attrs:{value:[""],items:e.options,placeholder:"Options"},on:{input:e.emitFilter},model:{value:e.filterBy.byKey.values,callback:function(t){e.$set(e.filterBy.byKey,"values",t)},expression:"filterBy.byKey.values"}}):e._e(),s("el-button",{staticClass:"see-all",on:{click:function(t){return e.changeFilter(e.emptyFilter)}}},[e._v("Show All")])],1)},ne=[],re=(s("caad"),s("b0c0"),s("ac1f"),s("2532"),s("1276"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-select",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value,placeholder:e.placeholder,onfocus:"this.placeholder = ''",onblur:"this.placeholder = '"+e.placeholder+"'"}})})),1)}),ie=[],ae=(s("d81d"),{props:{items:Array,placeholder:{type:String,default:"Select"}},data:function(){return{value:""}},computed:{options:function(){return this.items.map((function(e){return{value:e,label:e}}))}},created:function(){console.log("el-select this.items",this.items)},watch:{value:function(e){this.$emit("input",e)}}}),oe=ae,ce=Object(p["a"])(oe,re,ie,!1,null,null,null),le=ce.exports,ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-select",{staticStyle:{"text-align":"center"},attrs:{multiple:"","collapse-tags":"",onfocus:"this.placeholder = ''",onblur:"this.placeholder = '"+e.placeholder+"'",placeholder:e.placeholder},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)},de=[],ge={props:{items:Array,placeholder:{type:String,default:"Select"}},data:function(){return{value:[]}},computed:{options:function(){return this.items.map((function(e){return{value:e,label:e}}))}},created:function(){},watch:{value:function(e){this.$emit("input",e)}}},pe=ge,fe=Object(p["a"])(pe,ue,de,!1,null,null,null),me=fe.exports,ve={name:"eventi-filter",props:{initfilterBy:{type:Object},tags:{type:Array,default:function(){return this.$store.getters.tags}},neededs:{type:Array,default:function(){return this.$store.getters.neededs}}},data:function(){return{emptyFilter:{byText:"",byKey:{key:"country",values:[]}},filterBy:null,debounce:null}},computed:{allFilds:function(){var e=this.$store.getters.allFilds;return e},options:function(){return this.allFilds.options[this.filterBy.byKey.key]}},created:function(){this.filterBy=this.initfilterBy?this.initfilterBy:JSON.parse(JSON.stringify(this.emptyFilter)),(this.$route.query.term||this.$route.query.values)&&(this.filterBy.byText=this.$route.query.term,this.filterBy.byKey.key=this.$route.query.key,this.filterBy.byKey.values=this.$route.query.values.split(","),this.$emit("doFilter",this.filterToExport()))},methods:{changeFilter:function(e){this.filterBy=JSON.parse(JSON.stringify(e)),this.emitFilter(),"Home"===this.$router.history.current.name&&this.$router.push("/eventi-app/")},filterToExport:function(){if(!this.filterBy)return JSON.parse(JSON.stringify(this.emptyFilter));var e=JSON.parse(JSON.stringify(this.filterBy));return"organization"===e.byKey.key&&(e.byKey.key="name"),"category"===e.byKey.key&&(e.byKey.key="tags"),e.byKey.values.forEach((function(t,s){t.includes("including")&&(e.byKey.values[s]="true")})),e.byKey.values.forEach((function(t,s){t.includes("excluding")&&(e.byKey.values[s]="false")})),e},emitFilter:function(){var e=this;this.debounce&&clearTimeout(this.debounce),this.debounce=setTimeout((function(){e.$emit("doFilter",e.filterToExport())}),1e3)}},components:{elSelect:le,selectMulti:me}},he=ve,be=Object(p["a"])(he,se,ne,!1,null,null,null),ye=be.exports,we=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[e.eventis?s("ul",{staticClass:"eventi-list clean-list card-list"},[e._l(e.eventis,(function(e,t){return s("eventi-preview",{key:t,attrs:{eventi:e}})})),s("li"),s("li")],2):s("div",[e._v("LOADING...")])])},_e=[],Ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.eventi?s("li",{staticClass:"eventi-preview card-preview flex-column",on:{click:e.openDetails}},[s("div",{staticClass:"img-squer-container"},[s("img",{directives:[{name:"show",rawName:"v-show",value:e.imgLoad,expression:"imgLoad"}],attrs:{src:e.imgUrl,alt:""},on:{load:function(t){e.imgLoad=!0}}}),e.imgLoad?e._e():s("div",{staticClass:"loading flex center"},[e._v("LOADING...")]),s("p",{staticClass:"country preview-card-country"},[e._v(e._s(e.eventi.location.country))]),s("button",{staticClass:"btn-img-nav next",on:{click:function(t){return t.stopPropagation(),e.nextImgUrl(t)}}},[s("i",{staticClass:"fas fa-arrow-circle-right"})]),s("button",{staticClass:"btn-img-nav prev",on:{click:function(t){return t.stopPropagation(),e.nextImgUrl(t)}}},[s("i",{staticClass:"fas fa-arrow-circle-left"})])]),e.org?s("section",{staticClass:"details-org-section flex align-center"},[e.eventi.notifications>0&&e.isEventiAdmin?s("h4",[s("i",{staticClass:"fas fa-circle",staticStyle:{color:"red"}}),e._v(e._s(e.eventi.notifications)+" notifications ")]):e._e()]):e._e(),s("section",{staticClass:"mini-details-top flex space-between"},[e.eventi.reviews.length?s("h5",[s("i",{staticClass:"star fas fa-star"}),e._v(" "+e._s(e.eventi.rate)+" "),s("span",{staticClass:"reviews-counter"},[e._v("("+e._s(e.eventi.reviews.length)+")")])]):s("h5",[s("i",{staticClass:"star fas fa-star"}),e._v("New")]),s("h5",{staticClass:"time"},[e._v(e._s(e.moment(e.eventi.startAt).format("DD/MM/YYYY")))])]),s("div",{staticClass:"preview-details flex-column"},[s("p",{staticClass:"card-desc flex-g1"},[s("span",{staticClass:"card-title"},[e._v(e._s(e.eventi.title))]),e._v(" "),s("br"),e._v(" "+e._s(e.eventi.desc)+" ")])]),s("section",{staticClass:"price mr16"},[e.eventi.price>0?s("p",[s("span",{staticClass:"bold"},[e._v("$"+e._s(e.eventi.price))]),e._v(" / week")]):s("p",[e._v("Free, just come!")])])]):e._e()},xe=[],ke=(s("b680"),s("96cf"),s("1da1")),Oe=s("c1df"),je={name:"eventiPreview",props:{eventi:Object},data:function(){return{org:null,orgRate:2,imgLoad:!1,moment:Oe,idx:0}},created:function(){this.getOrg()},components:{},computed:{imgUrl:function(){return this.eventi.imgUrls[this.idx]},tagsIcon:function(){return this.$store.getters.tagsIcon},duration:function(){var e=this.eventi.startAt,t=this.eventi.endAt,s=Math.abs(t-e),n=Math.ceil(s/864e5),r="".concat((n/7).toFixed(0)," weeks");return n%7&&(r+=" and ".concat(n%7," days")),r},isEventiAdmin:function(){return!(!this.$store.getters.loggedinUser||!this.$store.getters.loggedinUser.org||this.$store.getters.loggedinUser.org._id!==this.eventi.byOrg._id)}},methods:{nextImgUrl:function(){this.idx===this.eventi.imgUrls.length-1?this.idx=0:this.idx++},prevImgUrl:function(){0===this.idx?this.idx=this.eventi.imgUrls.length-1:this.idx--},getOrg:function(){var e=this;return Object(ke["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.eventi.byOrg._id,t.next=3,e.$store.dispatch({type:"getOrgById",orgId:s});case 3:e.org=t.sent;case 4:case"end":return t.stop()}}),t)})))()},openDetails:function(){this.$router.push("/eventi-details/".concat(this.eventi._id))},openOrgDetails:function(){this.$router.push("/org-details/".concat(this.eventi.byOrg._id))}}},Ee=je,$e=Object(p["a"])(Ee,Ce,xe,!1,null,null,null),Ue=$e.exports,Se={name:"eventi-list",props:{eventis:Array},components:{eventiPreview:Ue}},Ie=Se,Ne=Object(p["a"])(Ie,we,_e,!1,null,null,null),Te=Ne.exports,Le=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"global-info full main-container text-center"},[s("h2",[e._v("Global info")]),s("div",{staticClass:"flex center mrg5 details-container"},[s("section",{staticClass:"orgs"},[s("i",{staticClass:"far fa-building"}),s("h3",[e._v(e._s(e.orgsNum)+" Organization that work hard only to make good Volunteerings")])]),s("section",{staticClass:"eventis"},[s("i",{staticClass:"fas fa-hands-helping"}),s("h3",[e._v(e._s(e.eventisNum)+" Events of amazing Volunteerings")])]),s("section",{staticClass:"eventis"},[s("i",{staticClass:"fas fa-users"}),s("h3",[e._v(e._s(e.usersNum)+" users that only make the world to be a good place!")])])])])},Re=[],Be={name:"globalInfo",computed:{orgsNum:function(){return console.log(this.$store.getters.orgsForDisplay),this.$store.getters.orgsForDisplay.length},eventisNum:function(){return this.$store.getters.eventisForDisplay.length},usersNum:function(){return this.$store.getters.users.length}},created:function(){this.$store.dispatch({type:"setOrgs"}),this.$store.dispatch({type:"loadUsers"})},components:{}},De=Be,Fe=Object(p["a"])(De,Le,Re,!1,null,null,null),Ae=Fe.exports,Je={name:"homePage",computed:{loggedinUser:function(){return this.$store.getters.loggedinUser},newestEventis:function(){var e=JSON.parse(JSON.stringify(this.$store.getters.eventisForDisplay));return e.sort((function(e,t){return e.createdAt>t.createdAt?1:-1})),e.splice(0,4)},popularestEventis:function(){var e=JSON.parse(JSON.stringify(this.$store.getters.eventisForDisplay));return e.sort((function(e,t){return e.rate>t.rate?-1:t.rate>e.rate?1:0})),e.splice(0,4)},suggestEventis:function(){var e=[],t=[],s=this.$store.getters.loggedinUser.favs,n=JSON.parse(JSON.stringify(this.$store.getters.eventisForDisplay));n.sort((function(e,t){return e.rate>t.rate?-1:t.rate>e.rate?1:0})),Object(te["a"])(s).forEach((function(e){var s=[];Object(te["a"])(n).forEach((function(t){t.tags.forEach((function(n){n===e&&s.push(t)}))})),t.push(JSON.parse(JSON.stringify(s)))}));var r=[0,1,2,3];return r.forEach((function(s){var n=s;n===t.length&&(n=0),n-1===t.length&&(n=1),e.push(t[n].shift())})),e}},methods:{routeToEventiFilter:function(e){e.byKey.values.length&&this.$router.push("/eventi-app/?term=".concat(e.byText,"&key=").concat(e.byKey.key,"&values=").concat(e.byKey.values))}},created:function(){this.$store.dispatch({type:"setEventis"}),document.body.classList.add("hero-page")},destroyed:function(){document.body.classList.remove("hero-page")},components:{eventiList:Te,globalInfo:Ae,eventiFilter:ye}},Me=Je,ze=Object(p["a"])(Me,Z,ee,!1,null,null,null),Pe=ze.exports,Ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",[s("eventi-filter",{ref:"thefilter",attrs:{initfilterBy:e.filterBy},on:{doFilter:e.setFilter}}),s("eventi-list",{attrs:{eventis:e.eventisToShow}})],1)},Ye=[],qe=(s("4de4"),s("13d5"),{name:"voluteerApp",data:function(){return{filterBy:null}},computed:{eventisToShow:function(){var e,t,s,n=this,r=this.$store.getters.eventisForDisplay;if(console.log("filterBy",this.filterBy),!this.filterBy)return r;var i=r;if(this.filterBy.byText){var a=this.filterBy.byText.toLowerCase();i=r.filter((function(e){return e.title.toLowerCase().includes(a)||e.desc.toLowerCase().includes(a)||e.byOrg.name.toLowerCase().includes(a)||e.location.country.toLowerCase().includes(a)||e.location.address.toLowerCase().includes(a)}));var o=a.split(" "),c=r.filter((function(e){var t=o.filter((function(t){return e.title.toLowerCase().includes(t)||e.desc.toLowerCase().includes(t)||e.byOrg.name.toLowerCase().includes(a)||e.location.country.toLowerCase().includes(a)||e.location.address.toLowerCase().includes(a)}));return t.length===o.length}));i=i.concat(c),i=i.reduce((function(e,t){return e.includes(t)||e.push(t),e}),[]),i=JSON.parse(JSON.stringify(i))}if(null!==(e=this.filterBy.byKey)&&void 0!==e&&e.values.length&&(null===(t=this.filterBy.byKey)||void 0===t||!t.values.includes(""))&&(null===(s=this.filterBy.byKey)||void 0===s||!s.values.includes("all"))){var l=i.filter((function(e){if(e[n.filterBy.byKey.key]){var t=e[n.filterBy.byKey.key];return n.filterBy.byKey.values.filter((function(e){return t.includes(e)})).length}var s={country:"location",name:"byOrg",food:"accommodation",lodging:"accommodation"},r=e[s[n.filterBy.byKey.key]][n.filterBy.byKey.key];return"string"===typeof r?n.filterBy.byKey.values.includes(r):"boolean"===typeof r?n.filterBy.byKey.values.includes(JSON.stringify(r)):void 0}));i=JSON.parse(JSON.stringify(l))}return i}},methods:{setFilter:function(e){this.filterBy=e,console.log("set filter",e)}},mounted:function(){var e=this;return Object(ke["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch({type:"setEventis"}),e.$refs.thefilter.$refs.searchFild.focus(),M.on("updatesEventi",(function(t){e.$store.dispatch({type:"saveEventi",eventi:t}),e.$store.dispatch({type:"setEventis"})}));case 3:case"end":return t.stop()}}),t)})))()},components:{eventiFilter:ye,eventiList:Te}}),He=qe,Ge=Object(p["a"])(He,Ke,Ye,!1,null,null,null),Ve=Ge.exports,We=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",[s("eventi-filter",{on:{doFilter:e.setFilter}}),s("org-list",{attrs:{orgs:e.orgsToShow}})],1)},Qe=[],Xe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[e.orgs?s("ul",{staticClass:"org-list clean-list card-list"},[e._l(e.orgs,(function(e,t){return s("org-preview",{key:t,attrs:{org:e}})})),s("li"),s("li")],2):s("div",[e._v("LOADING...")])])},Ze=[],et=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.org?s("li",{staticClass:"eventi-preview card-preview flex-column",on:{click:e.openDetails}},[s("div",{staticClass:"img-squer-container"},[s("img",{directives:[{name:"show",rawName:"v-show",value:e.imgLoad,expression:"imgLoad"}],attrs:{src:e.imgUrl,alt:""},on:{load:function(t){e.imgLoad=!0}}}),e.imgLoad?e._e():s("div",{staticClass:"loading flex center"},[e._v("LOADING...")]),s("button",{staticClass:"btn-img-nav next",on:{click:function(t){return t.stopPropagation(),e.nextImgUrl(t)}}},[s("i",{staticClass:"fas fa-arrow-circle-right"})]),s("button",{staticClass:"btn-img-nav prev",on:{click:function(t){return t.stopPropagation(),e.nextImgUrl(t)}}},[s("i",{staticClass:"fas fa-arrow-circle-left"})])]),s("section",{staticClass:"mini-details-top flex space-between"},[e.org.reviews.length?s("h5",[s("i",{staticClass:"star fas fa-star"}),e._v(" "+e._s(e.org.rate)+" ("+e._s(e.org.reviews.length)+") ")]):s("h5",[s("i",{staticClass:"star fas fa-star"}),e._v("New")]),s("h5",{staticClass:"org-eventis"},[e._v(e._s(e.orgEventis.length)+" Events")])]),s("div",{staticClass:"preview-details flex column flex-g1"},[s("p",{staticClass:"org-goals card-desc flex-g1"},[s("span",{staticClass:"mrg0 card-title"},[e._v(e._s(e.org.name))]),e._v(" "),s("br"),e._v(e._s(e.org.goals))])]),s("h5",{staticClass:"org-mini-details country bold"},[e._v(e._s(e.org.country))])]):e._e()},tt=[],st={name:"orgPreview",props:{org:Object},data:function(){return{rate:2,imgLoad:!1,idx:0}},computed:{imgUrl:function(){return this.org.imgUrls[this.idx]},orgEventis:function(){var e=this,t=this.$store.getters.eventisForDisplay.filter((function(t){if(t.byOrg)return t.byOrg._id===e.org._id}));return t},tagsIcon:function(){return this.$store.getters.tagsIcon}},created:function(){},methods:{nextImgUrl:function(){this.idx===this.org.imgUrls.length-1?this.idx=0:this.idx++},prevImgUrl:function(){0===this.idx?this.idx=this.org.imgUrls.length-1:this.idx--},openDetails:function(){this.$router.push("/org-details/".concat(this.org._id))}}},nt=st,rt=Object(p["a"])(nt,et,tt,!1,null,null,null),it=rt.exports,at={name:"orgList",props:{orgs:Array},components:{orgPreview:it}},ot=at,ct=Object(p["a"])(ot,Xe,Ze,!1,null,null,null),lt=ct.exports,ut={name:"orgApp",data:function(){return{filterBy:null}},computed:{orgsToShow:function(){var e=this.$store.getters.orgsForDisplay;if(!this.filterBy)return e;var t=e;if(""!=this.filterBy.byText){var s=this.filterBy.byText.toLowerCase();t=e.filter((function(e){return e.name.toLowerCase().includes(s)||e.desc.toLowerCase().includes(s)}));var n=s.split(" "),r=e.filter((function(e){var t=n.filter((function(t){return e.name.toLowerCase().includes(t)||e.desc.toLowerCase().includes(t)}));return t.length===n.length}));t=t.concat(r),t=t.reduce((function(e,t){return e.includes(t)||e.push(t),e}),[]),t=JSON.parse(JSON.stringify(t))}if(this.filterBy.byTags.length){console.log("by tags");var i=[];this.filterBy.byTags.forEach((function(e){var s=[];t.forEach((function(t){t.tags.includes(e)&&s.push(t)})),i=i.concat(s)})),t=JSON.parse(JSON.stringify(i))}return t}},created:function(){var e=this;return Object(ke["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch({type:"setOrgs"}),e.$store.dispatch({type:"setOrgs"});case 2:case"end":return t.stop()}}),t)})))()},methods:{setFilter:function(e){this.filterBy=e}},components:{eventiFilter:ye,orgList:lt}},dt=ut,gt=Object(p["a"])(dt,We,Qe,!1,null,null,null),pt=gt.exports,ft=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"edit-page"},[e.loggedinUser&&e.loggedinUser.org?s("div",{staticClass:"edit-page-title title flex-column center-all"},[s("h2",[e._v("Edit your organization")]),s("h3",[e._v("It's free, quick and simple")])]):s("div",{staticClass:"edit-page-title title flex-column center-all"},[s("h2",[e._v("Need volunteers? join us!")]),s("h3",[e._v("It's free, quick and simple")])]),s("div",{staticClass:"side-tabs flex"},[e.loggedinUser?e._e():s("h2",{staticClass:"title-tab active",attrs:{to:"/login"}},[e._v("Login")]),s("h2",{staticClass:"title-tab",class:e.loggedinUser?"active":""},[e._v(" "+e._s(e.loggedinUser&&e.loggedinUser.org?"Edit your organization":"Add your orgaziation")+" ")]),s("h2",{staticClass:"title-tab",class:{"hover-pointer":e.loggedinUser&&e.loggedinUser.org},on:{click:e.goToCreateEventi}},[e._v("Publish new event and invite volunteers")])]),s("keep-alive",[e.loggedinUser?s("form",{staticClass:"edit-form flex column center",on:{submit:function(t){return t.preventDefault(),e.createOrg(t)}}},[s("el-input",{attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'orgaziation name'",placeholder:"orgaziation name",clearable:""},model:{value:e.orgCred.name,callback:function(t){e.$set(e.orgCred,"name",t)},expression:"orgCred.name"}}),s("el-input",{attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'orgaziation country'",placeholder:"country",clearable:""},model:{value:e.orgCred.country,callback:function(t){e.$set(e.orgCred,"country",t)},expression:"orgCred.country"}}),s("el-input",{attrs:{onblur:"this.placeholder = 'tell us about your goals'",type:"textarea",rows:2,placeholder:"tell us about your goals",onfocus:"this.placeholder = ''"},model:{value:e.orgCred.goals,callback:function(t){e.$set(e.orgCred,"goals",t)},expression:"orgCred.goals"}}),s("el-input",{attrs:{type:"textarea",rows:3,onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'tell us about your organization'",placeholder:"tell us about your organization"},model:{value:e.orgCred.desc,callback:function(t){e.$set(e.orgCred,"desc",t)},expression:"orgCred.desc"}}),s("span",[e._v("Select tags")]),s("select-multi",{attrs:{items:e.tags},model:{value:e.orgCred.tags,callback:function(t){e.$set(e.orgCred,"tags",t)},expression:"orgCred.tags"}}),s("label",{staticClass:"img-list"},[e._v(" Pictures: "),s("section",{staticClass:"imgs flex center"},e._l(e.orgCred.imgUrls,(function(t,n){return s("section",{key:n,staticClass:"img-edit flex column center mrg5"},[s("img",{staticClass:"border-radius mb10",attrs:{src:t,alt:"img..."}}),s("el-button",{staticClass:"remove-img",attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.removeImg(n)}}})],1)})),0)]),s("section",{staticClass:"upload-img flex column center"},[e.isLoading?s("img",{staticClass:"loader",attrs:{src:"https://i.pinimg.com/originals/65/ba/48/65ba488626025cff82f091336fbf94bb.gif",alt:""}}):[s("label",{attrs:{for:"imgUploader"}},[s("i",{staticClass:"fas fa-cloud-upload-alt hover-pointer"})]),s("input",{attrs:{type:"file",name:"img-uploader",id:"imgUploader"},on:{change:e.onUploadImg}})],s("div",{staticClass:"img-list"},[s("section",{staticClass:"imgs flex center"},e._l(e.imgUrls,(function(e,t){return s("img",{key:t,staticClass:"border-radius mrg5",attrs:{src:e,alt:"img..."}})})),0)])],2),s("el-button",{on:{click:e.createOrg}},[e._v(e._s(e.loggedinUser&&e.loggedinUser.org?"Save":"Next >"))])],1):s("div",{staticClass:"edit-form flex column center"},[s("h3",[e._v("Volunteer? Activist?")]),s("router-link",{staticClass:"el-button el-button--primary",attrs:{to:"/login"}},[e._v("Login or SignUp")]),s("h3",[e._v(" We are here for you, and just want to help you doing good things ")])],1)])],1)},mt=[],vt=s("bc3a"),ht=s.n(vt),bt="/api/",yt=ht.a.create({withCredentials:!0}),wt={get:function(e,t){return _t(e,"GET",t)},post:function(e,t){return _t(e,"POST",t)},put:function(e,t){return _t(e,"PUT",t)},delete:function(e,t){return _t(e,"DELETE",t)}};function _t(e){return Ct.apply(this,arguments)}function Ct(){return Ct=Object(ke["a"])(regeneratorRuntime.mark((function e(t){var s,n,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=i.length>1&&void 0!==i[1]?i[1]:"get",n=i.length>2&&void 0!==i[2]?i[2]:null,e.prev=2,e.next=5,yt({url:"".concat(bt).concat(t),method:s,data:n});case 5:return r=e.sent,console.log("ajax -> res.data",r.data),e.abrupt("return",r.data);case 10:throw e.prev=10,e.t0=e["catch"](2),401===e.t0.response.status&&sn.push("/"),console.log("Had issues ".concat(s,"ing to server"),e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,10]])}))),Ct.apply(this,arguments)}var xt=s("53ca");function kt(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=s.charAt(Math.floor(Math.random()*s.length));return t}function Ot(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}var jt={makeId:kt,getRandomInt:Ot,timeAgo:Ut},Et=["January","February","March","April","May","June","July","August","September","October","November","December"];function $t(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.getDate(),r=Et[e.getMonth()],i=e.getFullYear(),a=e.getHours(),o=e.getMinutes();return o<10&&(o="0".concat(o)),t?"".concat(t," at ").concat(a,":").concat(o):s?"".concat(n,". ").concat(r," at ").concat(a,":").concat(o):"".concat(n,". ").concat(r," ").concat(i,". at ").concat(a,":").concat(o)}function Ut(e){if(!e)return null;var t="object"===Object(xt["a"])(e)?e:new Date(e),s=864e5,n=new Date,r=new Date(n-s),i=Math.round((n-t)/1e3),a=Math.round(i/60),o=n.toDateString()===t.toDateString(),c=r.toDateString()===t.toDateString(),l=n.getFullYear()===t.getFullYear();return i<5?"now":i<60?"".concat(i," seconds ago"):i<90?"about a minute ago":a<60?"".concat(a," minutes ago"):o?$t(t,"Today"):c?$t(t,"Yesterday"):l?$t(t,!1,!0):$t(t)}var St="org",It={query:Rt,getById:Nt,remove:Bt,save:Dt,getEmptyOrg:Jt,getSortList:Tt,timeAgo:Mt,makeId:zt};function Nt(e){return wt.get("".concat(St,"/").concat(e))}function Tt(e){return Lt.apply(this,arguments)}function Lt(){return Lt=Object(ke["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Rt();case 2:return s=e.sent,e.abrupt("return",s.sort((function(e,s){return e[t]>s[t]?1:s[t]>e[t]?-1:0})));case 4:case"end":return e.stop()}}),e)}))),Lt.apply(this,arguments)}function Rt(){return wt.get(St)}function Bt(e){return wt.delete("".concat(St,"/").concat(e))}function Dt(e){var t=e._id?At(e):Ft(e);return t}function Ft(e){return e.createdAt=Date.now(),wt.post(St,e)}function At(e){return e.updateAt=Date.now(),wt.put("".concat(St,"/").concat(e._id),e)}function Jt(){return{name:"",country:"",desc:"",rate:0,imgUrls:[],admin:{},reviews:[]}}function Mt(e){return jt.timeAgo(e)}function zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return jt.makeId(e)}var Pt=function(){var e=Object(ke["a"])(regeneratorRuntime.mark((function e(t){var s,n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s="nk_pre",n="nk2020",r="https://api.cloudinary.com/v1_1/".concat(n,"/image/upload"),i=new FormData,i.append("file",t.target.files[0]),i.append("upload_preset",s),e.prev=6,e.next=9,ht.a.post(r,i);case 9:return a=e.sent,e.abrupt("return",a.data);case 13:e.prev=13,e.t0=e["catch"](6),console.error("ERROR!",e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),Kt={name:"orgEdit",data:function(){return{orgCred:It.getEmptyOrg(),isLoading:!1,imgUrls:[]}},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser},tags:function(){return this.$store.getters.tags}},methods:{onUploadImg:function(e){var t=this;return Object(ke["a"])(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.isLoading=!0,s.next=3,Pt(e);case 3:n=s.sent,t.imgUrls.push(n.url),t.isLoading=!1;case 6:case"end":return s.stop()}}),s)})))()},removeImg:function(e){console.log(e),this.orgCred.imgUrls.splice(e,1)},createOrg:function(){var e=this;return Object(ke["a"])(regeneratorRuntime.mark((function t(){var s,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loggedinUser||e.$router.push("/login"),console.log("create new org"),e.orgCred.imgUrls||(e.orgCred.imgUrls=[]),(s=e.orgCred.imgUrls).push.apply(s,Object(te["a"])(e.imgUrls)),n=JSON.parse(JSON.stringify(e.$store.getters.loggedinUser)),e.orgCred.admin={_id:n._id,fullName:n.fullName,imgUrl:n.imgUrl},e.orgCred.imgUrls.length||e.orgCred.imgUrls.push("https://maestroselectronics.com/wp-content/uploads/2017/12/No_Image_Available.jpg"),t.next=9,e.$store.dispatch({type:"saveOrg",org:JSON.parse(JSON.stringify(e.orgCred))});case 9:return r=t.sent,n.org={_id:r.org._id,name:r.org.name,imgUrl:r.org.imgUrls[0]},t.next=13,e.$store.dispatch({type:"updateUser",user:n});case 13:r.type?e.$message({showClose:!0,message:"".concat(e.orgCred.name," added sucessfully!"),type:"success",duration:1500}):e.$message({showClose:!0,message:"".concat(e.orgCred.name," cant added, err ").concat(r.err),type:"warning",duration:1500}),e.orgCred=It.getEmptyOrg(),e.goToCreateEventi(),e.$router.go(-1);case 17:case"end":return t.stop()}}),t)})))()},goToCreateEventi:function(){(this.loggedinUser||this.loggedinUser.org)&&this.$router.push("/eventi-edit/")}},created:function(){var e=this;return Object(ke["a"])(regeneratorRuntime.mark((function t(){var s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=e.$route.params.orgId,!s){t.next=6;break}return t.next=4,It.getById(s);case 4:n=t.sent,e.orgCred=JSON.parse(JSON.stringify(n));case 6:case"end":return t.stop()}}),t)})))()},components:{selectMulti:me}},Yt=Kt,qt=Object(p["a"])(Yt,ft,mt,!1,null,null,null),Ht=qt.exports,Gt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"edit-page"},[e._m(0),s("div",{staticClass:"side-tabs flex"},[s("h2",{staticClass:"title-tab hover-pointer",on:{click:e.openOrgDetails}},[e._v("Edit your orgaziation")]),s("h2",{staticClass:"title-tab active"},[e._v("Publish new event and invite volunteers")])]),s("form",{staticClass:"edit-form flex column center",on:{submit:function(t){return t.preventDefault(),e.saveEventi(t)}}},[s("el-input",{attrs:{onblur:"this.placeholder = 'Eventi title'",onfocus:"this.placeholder = ''",placeholder:"Eventi Title",clearable:""},model:{value:e.eventiToEdit.title,callback:function(t){e.$set(e.eventiToEdit,"title",t)},expression:"eventiToEdit.title"}}),s("el-input",{attrs:{onblur:"this.placeholder = 'tell us about your eventi'",type:"textarea",rows:3,placeholder:"Tell us about your eventi",onfocus:"this.placeholder = ''"},model:{value:e.eventiToEdit.desc,callback:function(t){e.$set(e.eventiToEdit,"desc",t)},expression:"eventiToEdit.desc"}}),s("section",{staticClass:"dates"},[s("div",{staticClass:"block"},[s("el-date-picker",{attrs:{lang:"eng",type:"datetimerange","start-placeholder":"Start date","end-placeholder":"End date"},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}})],1)]),s("el-input",{attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'Eventi Country'",placeholder:"Eventi Country",clearable:""},model:{value:e.eventiToEdit.location.country,callback:function(t){e.$set(e.eventiToEdit.location,"country",t)},expression:"eventiToEdit.location.country"}}),s("el-input",{attrs:{onblur:"this.placeholder = 'Eventi Address'",onfocus:"this.placeholder = ''",placeholder:"Eventi Address",clearable:""},model:{value:e.eventiToEdit.location.address,callback:function(t){e.$set(e.eventiToEdit.location,"address",t)},expression:"eventiToEdit.location.address"}}),s("div",{staticClass:"slect-options-inputs flex"},[s("label",[e._v(" Limit of members "),s("el-input-number",{attrs:{min:1},model:{value:e.eventiToEdit.capacity,callback:function(t){e.$set(e.eventiToEdit,"capacity",t)},expression:"eventiToEdit.capacity"}})],1),s("label",[e._v(" Select tags "),s("select-multi",{attrs:{items:e.tags},model:{value:e.eventiToEdit.tags,callback:function(t){e.$set(e.eventiToEdit,"tags",t)},expression:"eventiToEdit.tags"}})],1),s("label",[e._v(" Select neededs "),s("select-multi",{attrs:{items:e.neededs},model:{value:e.eventiToEdit.neededs,callback:function(t){e.$set(e.eventiToEdit,"neededs",t)},expression:"eventiToEdit.neededs"}})],1),e.eventiToEdit._id?s("el-button",{attrs:{type:"danger"},on:{click:e.removeEventi}},[e._v("Delete Event")]):e._e()],1),s("label",{staticClass:"img-list"},[e._v(" Pictures: "),s("section",{staticClass:"imgs flex center"},e._l(e.eventiToEdit.imgUrls,(function(t,n){return s("section",{key:n,staticClass:"img-edit flex column center mrg5"},[s("img",{staticClass:"border-radius mb10",attrs:{src:t,alt:"img..."}}),s("el-button",{staticClass:"remove-img",attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.removeImg(n)}}})],1)})),0)]),s("section",{staticClass:"upload-img flex column center"},[e.isLoading?s("img",{staticClass:"loader",attrs:{src:"https://i.pinimg.com/originals/65/ba/48/65ba488626025cff82f091336fbf94bb.gif",alt:""}}):[e._m(1),s("input",{attrs:{type:"file",name:"img-uploader",id:"imgUploader"},on:{change:e.onUploadImg}})],s("div",{staticClass:"img-list"},[s("section",{staticClass:"imgs flex center"},e._l(e.imgUrls,(function(e,t){return s("img",{key:t,staticClass:"border-radius mrg5",attrs:{src:e,alt:"img..."}})})),0)])],2),s("el-button",{on:{click:e.saveEventi}},[e._v("Publish")])],1)])},Vt=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"edit-page-title title flex-column center-all"},[s("h2",[e._v("Create new event")]),s("h3",[e._v("It's free, quick and simple")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{attrs:{for:"imgUploader"}},[s("i",{staticClass:"fas fa-cloud-upload-alt hover-pointer"})])}],Wt="eventi",Qt={query:ts,getById:Xt,remove:ss,save:ns,getEmptyEventi:as,getSortList:Zt,timeAgo:os,makeId:cs};function Xt(e){return wt.get("".concat(Wt,"/").concat(e))}function Zt(e){return es.apply(this,arguments)}function es(){return es=Object(ke["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ts();case 2:return s=e.sent,e.abrupt("return",s.sort((function(e,s){return e[t]>s[t]?1:s[t]>e[t]?-1:0})));case 4:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}function ts(){return wt.get(Wt)}function ss(e){return wt.delete("".concat(Wt,"/").concat(e))}function ns(e){var t=e._id?is(e):rs(e);return t}function rs(e){return e.createdAt=Date.now(),wt.post(Wt,e)}function is(e){return e.updateAt=Date.now(),wt.put("".concat(Wt,"/").concat(e._id),e)}function as(){return{title:"",desc:"",startAt:null,endAt:null,rate:0,location:{lat:null,lng:null,country:"",address:""},imgUrls:[],capacity:null,tags:[],neededs:[],members:[],reviews:[],byOrg:{_id:"5d6f6552j3kk8,2m2jh",name:"Save worlds",rate:4,imgUrl:"https://images.unsplash.com/photo-1606335221768-18e3dac0e879?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80"}}}function os(e){return jt.timeAgo(e)}function cs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return jt.makeId(e)}var ls={name:"eventi-edit",data:function(){return{eventiToEdit:Qt.getEmptyEventi(),byOrg:null,pickerOptions:{shortcuts:[{text:"Last week",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-6048e5),e.$emit("pick",[s,t])}},{text:"Last month",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-2592e6),e.$emit("pick",[s,t])}},{text:"Last 3 months",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-7776e6),e.$emit("pick",[s,t])}}]},value1:[new Date(2e3,10,10,10,10),new Date(2e3,10,11,10,10)],value2:"",dates:null,tags:this.$store.getters.tags,neededs:this.$store.getters.neededs,isLoading:!1,imgUrls:[]}},methods:{onUploadImg:function(e){var t=this;return Object(ke["a"])(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.isLoading=!0,s.next=3,Pt(e);case 3:n=s.sent,t.imgUrls.push(n.url),t.isLoading=!1;case 6:case"end":return s.stop()}}),s)})))()},removeImg:function(e){console.log(e),this.eventiToEdit.imgUrls.splice(e,1)},saveEventi:function(){var e;if(this.eventiToEdit.imgUrls||(this.eventiToEdit.imgUrls=[]),(e=this.eventiToEdit.imgUrls).push.apply(e,Object(te["a"])(this.imgUrls)),this.$store.getters.loggedinUser.org){this.eventiToEdit._id||(this.eventiToEdit.imgUrls.length||this.eventiToEdit.imgUrls.push("https://maestroselectronics.com/wp-content/uploads/2017/12/No_Image_Available.jpg","https://maestroselectronics.com/wp-content/uploads/2017/12/No_Image_Available.jpg","https://maestroselectronics.com/wp-content/uploads/2017/12/No_Image_Available.jpg"),this.eventiToEdit.startAt=this.dates[0].getTime,this.eventiToEdit.endAt=this.dates[1].getTime,this.eventiToEdit.byOrg=this.byOrg);var t=this.$store.dispatch({type:"saveEventi",eventi:JSON.parse(JSON.stringify(this.eventiToEdit))});t.type?this.$message({showClose:!0,message:"".concat(this.eventiToEdit.title," added sucessfully!"),type:"success",duration:1500}):this.$message({showClose:!0,message:"".concat(this.eventiToEdit.title," cant added, err ").concat(t.err),type:"warning",duration:1500}),this.eventiToEdit=Qt.getEmptyEventi(),this.$router.go(-1)}else this.$message({showClose:!0,message:"create organization first",type:"warning",duration:1500})},getEventiById:function(){var e=this;return Object(ke["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$route.params._id){t.next=2;break}return t.abrupt("return");case 2:if(s=e.$route.params._id,!s){t.next=7;break}return t.next=6,e.$store.dispatch({type:"getEventiById",_id:s});case 6:e.eventiToEdit=t.sent;case 7:case"end":return t.stop()}}),t)})))()},getByOrg:function(){var e=this;return Object(ke["a"])(regeneratorRuntime.mark((function t(){var s,n,r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$store.getters.loggedinUser.org){t.next=2;break}return t.abrupt("return");case 2:if(s=e.$store.getters.loggedinUser.org._id||{_id:null},!s){t.next=9;break}return t.next=6,It.getById(s);case 6:e.byOrg=t.sent,n=e.byOrg,r=n._id,i=n.name,a=n.rate,e.byOrg={_id:r,name:i,rate:a,imgUrl:e.byOrg.imgUrls[0]};case 9:case"end":return t.stop()}}),t)})))()},removeEventi:function(){this.$store.dispatch({type:"removeEventiById",eventiId:this.eventiToEdit._id}),this.$router.go(-2)},openOrgDetails:function(){this.$router.push("/org-edit/".concat(this.byOrg._id))}},created:function(){this.getEventiById(),this.getByOrg()},components:{selectMulti:me}},us=ls,ds=(s("ce55"),Object(p["a"])(us,Gt,Vt,!1,null,null,null)),gs=ds.exports,ps=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"login flex column center text-center small-container"},[e.loggedinUser?s("el-button",{on:{click:e.logout}},[e._v("Logout")]):s("section",[s("section",{staticClass:"login"},[s("h3",[e._v("Login")]),s("form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[s("el-input",{attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'Username'",placeholder:"Username",clearable:""},model:{value:e.loginCred.fullName,callback:function(t){e.$set(e.loginCred,"fullName",t)},expression:"loginCred.fullName"}}),s("el-input",{attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'Password'","show-password":"",placeholder:"Password",clearable:""},model:{value:e.loginCred.password,callback:function(t){e.$set(e.loginCred,"password",t)},expression:"loginCred.password"}}),s("el-button",{on:{click:e.login}},[e._v("Login")])],1)]),s("section",{staticClass:"signup"},[s("h3",[e._v("Sign-up")]),s("form",{staticClass:"flex column center",on:{submit:function(t){return t.preventDefault(),e.signup(t)}}},[s("el-input",{attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'Username'",placeholder:"Username",clearable:""},model:{value:e.signupCred.fullName,callback:function(t){e.$set(e.signupCred,"fullName",t)},expression:"signupCred.fullName"}}),s("el-input",{attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'Password'","show-password":"",placeholder:"Password",clearable:""},model:{value:e.signupCred.password,callback:function(t){e.$set(e.signupCred,"password",t)},expression:"signupCred.password"}}),s("el-input",{attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = 'baba@gmail.com'",placeholder:"baba@gmail.com",clearable:""},model:{value:e.signupCred.email,callback:function(t){e.$set(e.signupCred,"email",t)},expression:"signupCred.email"}}),s("el-input",{attrs:{onfocus:"this.placeholder = ''",onblur:"this.placeholder = '012-345-6789'",placeholder:"012-345-6789",clearable:""},model:{value:e.signupCred.tel,callback:function(t){e.$set(e.signupCred,"tel",t)},expression:"signupCred.tel"}}),s("span",[e._v("Select skills")]),s("select-multi",{attrs:{items:e.neededs},model:{value:e.signupCred.skills,callback:function(t){e.$set(e.signupCred,"skills",t)},expression:"signupCred.skills"}}),s("span",[e._v("Select favorites")]),s("select-multi",{attrs:{items:e.tags},model:{value:e.signupCred.favs,callback:function(t){e.$set(e.signupCred,"favs",t)},expression:"signupCred.favs"}}),s("label",{staticClass:"img-list"},[e._v(" Picture: "),e.signupCred.imgUrl?s("section",{staticClass:"img flex center"},[s("img",{staticClass:"border-radius mb10",attrs:{src:e.signupCred.imgUrl,alt:"img..."}}),s("el-button",{staticClass:"remove-img",attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.removeImg()}}})],1):e._e()]),s("section",{staticClass:"upload-img flex column center"},[e.isLoading?s("img",{staticClass:"loader",attrs:{src:"https://i.pinimg.com/originals/65/ba/48/65ba488626025cff82f091336fbf94bb.gif",alt:""}}):[s("label",{attrs:{for:"imgUploader"}},[s("i",{staticClass:"fas fa-cloud-upload-alt hover-pointer"})]),s("input",{attrs:{type:"file",name:"img-uploader",id:"imgUploader"},on:{change:e.onUploadImg}})],e.imgUrl?s("div",{staticClass:"img-list"},[s("section",{staticClass:"imgs flex center"},[s("img",{staticClass:"border-radius mrg5 ",attrs:{src:e.imgUrl,alt:"img..."}})])]):e._e()],2),s("el-button",{on:{click:e.signup}},[e._v("Sign")])],1)])])],1)},fs=[],ms={name:"Login",data:function(){return{loginCred:{},signupCred:{events:[],imgUrl:null,org:null},msg:"",isLoading:!1,imgUrl:null}},components:{selectMulti:me},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser},tags:function(){return this.$store.getters.tags},neededs:function(){return this.$store.getters.neededs}},methods:{onUploadImg:function(e){var t=this;return Object(ke["a"])(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.isLoading=!0,s.next=3,Pt(e);case 3:n=s.sent,t.imgUrl=n.url,t.isLoading=!1;case 6:case"end":return s.stop()}}),s)})))()},removeImg:function(){this.signupCred.imgUrl=null},login:function(){var e=this;return Object(ke["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loginCred.fullName||!e.loginCred.password){t.next=14;break}return console.table("this.loginCred",e.loginCred),t.prev=2,t.next=5,e.$store.dispatch({type:"login",userCred:e.loginCred});case 5:e.$message({showClose:!0,message:"".concat(e.loginCred.fullName," loginned sucessfully!"),type:"success",duration:1500}),e.loginCred={},t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),e.$message({showClose:!0,message:"Your user/password wrong, please try again.",type:"warning",duration:1500});case 12:t.next=16;break;case 14:e.$message({showClose:!0,message:"Username/Password must be present",type:"warning",duration:1500}),console.table("this.loginCred",e.loginCred);case 16:e.$router.go(-1);case 17:case"end":return t.stop()}}),t,null,[[2,9]])})))()},signup:function(){this.signupCred.imgUrl=this.imgUrl,this.signupCred.fullName&&this.signupCred.password&&this.signupCred.email?(this.$store.dispatch({type:"signup",userCred:this.signupCred}),this.signupCred={},this.$message({showClose:!0,message:"".concat(this.signupCred.fullName," signup sucessfully!"),type:"success",duration:1500})):(console.table("this.signupCred",this.signupCred),this.$message({showClose:!0,message:"Some input is incorrect",type:"warning",duration:1500})),this.$router.go(-1)},logout:function(){this.$store.dispatch({type:"logout"}),this.$message({showClose:!0,message:"".concat(this.loggedinUser.fullName," logout sucessfully!"),type:"success",duration:1500})}}},vs=ms,hs=(s("f9dd"),Object(p["a"])(vs,ps,fs,!1,null,"380d6024",null)),bs=hs.exports,ys=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.eventi?s("section",{staticClass:"eventi-details"},[s("section",{staticClass:"main-details"},[s("section",{staticClass:"top-page flex center space-between"},[s("div",{staticClass:"top-details"},[s("h2",{staticClass:"mb10"},[e._v(e._s(e.eventi.title))]),s("section",{staticClass:"flex align-center"},[s("section",{staticClass:"rate-section"},[e.eventi.reviews.length?s("span",[s("i",{staticClass:"star fas fa-star"}),e._v(" "+e._s(e.eventi.rate)+" ("+e._s(e.eventi.reviews.length)+") ")]):s("span",[s("i",{staticClass:"star fas fa-star"}),e._v("New")])]),s("span",[e._v(" "+e._s(e.eventi.location.address)+", "+e._s(e.eventi.location.country))])])]),e.isUserOrgAdmin?s("div",{staticClass:"edit-btns flex"},[s("el-button",{staticClass:"delete-btn",attrs:{type:"warning"},on:{click:e.removeEventi}},[e._v("Delete Event")]),s("router-link",{staticClass:"el-button el-button--success",attrs:{type:"success",to:"/eventi-edit/"+e.eventi._id}},[e._v("Edit")])],1):e._e()]),s("section",{staticClass:"eventi-imgs"},e._l(e.eventi.imgUrls,(function(e,t){return s("img",{key:t,staticClass:"eventi-img",attrs:{src:e}})})),0)]),s("section",{staticClass:"mini-org flex align-center",on:{click:e.openOrgDetails}},[s("avatar",{staticClass:"mr16 hover-pointer",attrs:{src:e.eventi.byOrg.imgUrl,username:e.eventi.byOrg.name}}),s("span",[e._v(e._s(e.eventi.byOrg.name))])],1),s("main",{staticClass:"flex justify-center"},[s("section",{staticClass:"details flex column"},[s("section",{staticClass:"details-ev"},[s("hr"),s("section",{staticClass:"tags flex wrap align-center"},[s("span",{staticClass:"bold mr16"},[e._v("Categories")]),e._l(e.eventi.tags,(function(t,n){return s("span",{key:n,staticClass:"tag text-center mrg5 mb10"},[s("i",{class:e.tagsIcon[t]}),e._v(" "+e._s(t)+" ")])}))],2),s("hr"),s("section",{staticClass:"tags-section align-center"},[s("section",{},[s("section",[s("span",[s("i",{staticClass:"fas fa-users"}),e._v(" "+e._s(e.eventi.members.length)+" /"+e._s(e.eventi.capacity)+" members")])]),s("section",{staticClass:"dates flex"},[s("span",[s("i",{staticClass:"fas fa-calendar-alt"}),e._v(" "+e._s(e.moment(e.eventi.startAt).format("DD/MM/YYYY"))+" - "+e._s(e.moment(e.eventi.endAt).format("DD/MM/YYYY")))])])]),s("section",{staticClass:"neededs"},[s("span",{staticClass:"bold need-txt"},[e._v("We need for this volunteering")]),s("section",{staticClass:"needed-content flex wrap"},e._l(e.eventi.neededs,(function(t,n){return s("span",{key:n,staticClass:"needed text-center mrg5"},[s("i",{class:e.neededsIcon[t]}),e._v(" "+e._s(t)+" ")])})),0)])]),s("section",{staticClass:"accomodations"},[s("span",{staticClass:"bold mr16"},[e._v("Accomodations")]),s("section",{staticClass:"aco-content flex wrap"},e._l(e.eventi.accommodation,(function(t,n){return s("span",{key:n,staticClass:"tag text-center mrg5"},[s("i",{class:e.accommodationIcon[t]}),e._v(" "+e._s(t)+" ")])})),0)]),s("hr")]),s("section",{staticClass:"desc-ev"},[s("span",[e._v(e._s(e.eventi.desc))])])]),s("section",{staticClass:"status-details text-center flex column center"},[s("div",{staticClass:"join-section flex column align-center"},[s("p",[e._v("We need speicals volunteer, if you are please join us!")]),e.isMember?s("el-button",{staticClass:"join-btn",attrs:{type:"warning"},on:{click:e.updateMember}},[e._v("Leave event")]):s("el-button",{staticClass:"join-btn",attrs:{type:"success"},on:{click:e.updateMember}},[e._v("Join us")])],1),e._m(0),s("section",{staticClass:"section-status-details"},[s("section",{staticClass:"members flex column text-center align-center"},[s("h3",{staticClass:"title-members"},[e._v("Members")]),s("section",{staticClass:"members-imgs flex center wrap"},e._l(e.eventi.members,(function(e){return s("avatar",{key:e._id,staticClass:"member-img mrg5",staticStyle:{"background-position":"center","background-size":"cover"},attrs:{username:e.fullName,src:e.imgUrl,title:e.fullName}})})),1)]),s("chat-app",{staticClass:"chat-app"},[s("h3",{staticClass:"title-chat",attrs:{slot:"header"},slot:"header"},[e._v("Members Chat")]),e._l(e.msgs,(function(t,n){return s("section",{key:n,staticClass:"mainChat"},[s("span",{staticClass:"msg"},[e._v(e._s(t.from)+": "+e._s(t.txt))])])})),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("form",{staticClass:"flex",on:{submit:function(t){return t.preventDefault(),e.sendMsg(t)}}},[s("el-input",{attrs:{placeholder:"Send Massage"},model:{value:e.msgChat.txt,callback:function(t){e.$set(e.msgChat,"txt",t)},expression:"msgChat.txt"}}),s("i",{staticClass:"far fa-paper-plane fa-2x hover-pointer",on:{click:e.sendMsg}})],1)])],2)],1)])]),s("section",{staticClass:"reviews-section flex column center"},[s("section",{staticClass:"add-review flex align-center text-center mb10"},[s("el-input",{attrs:{type:"text",placeholder:"Enter your review",name:"review"},model:{value:e.reviewToEdit.txt,callback:function(t){e.$set(e.reviewToEdit,"txt",t)},expression:"reviewToEdit.txt"}}),s("section",{staticClass:"review-edit flex align-center"},[s("el-button",{attrs:{type:"success"},on:{click:e.addReview}},[e._v("Add review")]),s("rate-stars-enable",{model:{value:e.reviewToEdit.rate,callback:function(t){e.$set(e.reviewToEdit,"rate",t)},expression:"reviewToEdit.rate"}})],1)],1),s("span",{staticClass:"text-center mrg5"},[e._v("Reviews")]),s("section",{staticClass:"reviews flex wrap align-center"},e._l(e.eventi.reviews,(function(t){return s("section",{key:t._id,staticClass:"review flex column mrg5"},[s("section",{staticClass:"details-review flex align-center"},[s("avatar",{attrs:{src:t.author.imgUrl,username:t.author.fullName}}),s("span",{staticClass:"review-rate"},[e._v(e._s(t.rate)),s("i",{staticClass:"star fas fa-star"})]),s("span",{staticClass:"time mrg5"},[e._v(" "+e._s(e.moment(t.createdAt).startOf("minute").fromNow())+" ")])],1),s("section",{staticClass:"content-review flex text-center"},[s("span",{staticClass:"name-review mrg5"},[e._v(e._s(t.author.fullName)+": ")]),s("span",{staticClass:"txt-review"},[e._v(e._s(t.txt))])])])})),0)])]):e._e()},ws=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"share-button flex center"},[s("section",[s("a",{attrs:{href:"https://api.whatsapp.com/send?text=https://world-volunteery.herokuapp.com/#/eventi-details/5fc3c2f8b939f9e519ca279a",target:"_blank"}},[s("i",{staticClass:"fab fa-whatsapp"})])]),s("iframe",{staticStyle:{border:"none",overflow:"hidden"},attrs:{src:"https://www.facebook.com/plugins/share_button.php?href=https%3A%2F%2Fwww.facebook.com%2FHeroesforLifeIsrael&layout=button&size=large&width=77&height=28&appId",width:"77",height:"28",scrolling:"no",frameborder:"0",allowfullscreen:"true",allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"}}),s("div",{staticClass:"fb-share-button",attrs:{"data-href":"https://www.facebook.com/HeroesforLifeIsrael","data-layout":"button","data-size":"large"}},[s("a",{staticClass:"fb-xfbml-parse-ignore",attrs:{target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.facebook.com%2FHeroesforLifeIsrael&src=sdkpreparse"}})])])}],_s=(s("7db0"),s("c740"),s("a9e3"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"chat-app"},[s("header",[e._t("header")],2),s("main",[e._t("default",[s("h4",[e._v("Hi! here you can talk about the event")])])],2),s("footer",[e._t("footer")],2)])}),Cs=[],xs={name:"chat-app",data:function(){return{msgs:[]}},methods:{closeChat:function(){this.$emit("closeChat")}},mounted:function(){var e=this;document.body.addEventListener("keyup",(function(t){"Escape"===t.code&&e.closeChat()}))},destroyed:function(){var e=this;document.body.removeEventListener("keyup",(function(t){"Escape"===t.code&&e.closeChat()}))}},ks=xs,Os=(s("77ad"),Object(p["a"])(ks,_s,Cs,!1,null,"a95e462e",null)),js=Os.exports,Es=s("4a89"),$s=s.n(Es),Us=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"rate-stars"},[s("el-rate",{attrs:{"text-color":"#ff9900"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},Ss=[],Is={props:{value:Number},watch:{value:function(e){this.$emit("input",e)}}},Ns=Is,Ts=Object(p["a"])(Ns,Us,Ss,!1,null,null,null),Ls=Ts.exports,Rs=s("c1df"),Bs={name:"eventi-details",data:function(){return{moment:Rs,eventi:null,reviewToEdit:{author:{},txt:"",rate:5},miniLoggedinUser:null,miniEventi:null,textBtn:"Join us!",msg:"no Rates",msgChat:{from:"",txt:""},msgs:[],topic:"love",debounce:null}},computed:{tagsIcon:function(){return this.$store.getters.tagsIcon},neededsIcon:function(){return this.$store.getters.neededsIcon},accommodationIcon:function(){return this.$store.getters.accommodationIcon},isUserOrgAdmin:function(){var e=this.$store.getters.loggedinUser;return!(!e||!e.isAdmin)||!(!e||!e.org||e.org._id!==this.eventi.byOrg._id)},isMember:function(){var e=this,t=this.eventi.members.findIndex((function(t){return t._id===e.miniLoggedinUser._id}));return-1!=t}},methods:{avgRates:function(){1===this.eventi.reviews.length&&(this.eventi.rate=this.eventi.reviews[0].rate);var e=0;this.eventi.reviews.forEach((function(t){e+=t.rate})),this.eventi.rate=(e/this.eventi.reviews.length).toFixed(2)},removeMember:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.miniLoggedinUser;console.log("member",t);var s=this.eventi.members.findIndex((function(e){return e._id===t._id}));this.eventi.members.splice(s,1);var n=this.$store.getters.loggedinUser.events.findIndex((function(t){return t._id===e.eventi._id})),r=this.$store.getters.loggedinUser;r.events.splice(n,1),this.$store.dispatch({type:"updateUser",user:JSON.parse(JSON.stringify(r))}),this.$store.dispatch({type:"saveEventi",eventi:JSON.parse(JSON.stringify(this.eventi))})},updateMember:function(){this.$store.getters.loggedinUser?M.emit("changeMember",this.miniLoggedinUser):this.$message({showClose:!0,message:"You need login first",type:"warning",duration:1500})},changesMember:function(e){var t=this;return Object(ke["a"])(regeneratorRuntime.mark((function s(){var n,r,i,a,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(console.log(e),n=t.eventi.members.findIndex((function(t){return t._id===e._id})),-1==n){s.next=11;break}t.eventi.members.splice(n,1),r=t.$store.getters.loggedinUser.events.findIndex((function(e){return e._id===t.eventi._id})),i=t.$store.getters.loggedinUser,i.events.splice(r,1),t.$store.dispatch({type:"updateUser",user:JSON.parse(JSON.stringify(i))}),t.$store.dispatch({type:"saveEventi",eventi:JSON.parse(JSON.stringify(t.eventi))}),s.next=21;break;case 11:return console.log("member",e),a=JSON.parse(JSON.stringify(t.$store.getters.loggedinUser)),t.eventi.members.push(e),t.$store.dispatch({type:"saveEventi",eventi:JSON.parse(JSON.stringify(t.eventi))}),a.events.push(JSON.parse(JSON.stringify(t.miniEventi))),s.next=18,t.$store.dispatch({type:"updateUser",user:a});case 18:o=s.sent,o.type&&t.$message({showClose:!0,message:"member just joined!",type:"success",duration:1500}),t.textBtn="leave event";case 21:t.eventi.notifications||(t.eventi.notifications=0),t.eventi.notifications=t.eventi.notifications+1,t.$store.dispatch({type:"saveEventi",eventi:t.eventi}),M.emit("updateEventi",t.eventi);case 25:case"end":return s.stop()}}),s)})))()},addReview:function(){var e=this;return Object(ke["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$store.getters.loggedinUser){t.next=4;break}return e.$message({showClose:!0,message:"You need login first",type:"warning",duration:1500}),e.reviewToEdit.txt="",t.abrupt("return");case 4:e.reviewToEdit.rate=Number(e.reviewToEdit.rate),e.reviewToEdit.createdAt=Date.now(),e.reviewToEdit._id=Qt.makeId(),e.reviewToEdit.author=JSON.parse(JSON.stringify(e.miniLoggedinUser)),e.eventi.reviews.push(e.reviewToEdit),e.eventi.notifications||(e.eventi.notifications=0),e.eventi.notifications=e.eventi.notifications+1,e.avgRates(),e.$store.dispatch({type:"saveEventi",eventi:e.eventi}),console.log(e.eventi),M.emit("updateEventi",e.eventi),e.$message({showClose:!0,message:"Your review added sucessfully!",type:"success",duration:1500}),e.reviewToEdit={author:{},txt:"",rate:5};case 17:case"end":return t.stop()}}),t)})))()},removeEventi:function(){var e=this;return Object(ke["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"removeEventiById",eventiId:e.eventi._id});case 2:s=t.sent,s.type?e.$message({showClose:!0,message:"".concat(e.eventi.title," removed sucessfully!"),type:"success",duration:1500}):e.$message({showClose:!0,message:"".concat(e.eventi.title," cant remove, err ").concat(s.err.code),type:"warning",duration:1500}),e.$router.go(-1);case 5:case"end":return t.stop()}}),t)})))()},addMsg:function(e){this.msgs.push(e)},sendMsg:function(){if(!this.$store.getters.loggedinUser)return this.$message({showClose:!0,message:"You need login first",type:"warning",duration:1500}),void(this.msgChat.txt="");this.msgChat.from=this.$store.getters.loggedinUser.fullName,console.log("Sending",this.msgChat),M.emit("chat newMsg",this.msgChat),this.msgChat={from:this.$store.getters.loggedinUser.fullName,txt:""}},openOrgDetails:function(){this.$router.push("/org-details/".concat(this.eventi.byOrg._id))}},created:function(){var e=this;return Object(ke["a"])(regeneratorRuntime.mark((function t(){var s,n,r,i,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.$route.params.eventiId,t.next=3,Qt.getById(s);case 3:n=t.sent,e.eventi=JSON.parse(JSON.stringify(n)),e.miniEventi={_id:n._id,title:n.title,imgUrl:n.imgUrls[0]},r=JSON.parse(JSON.stringify(e.$store.getters.loggedinUser))||{fullName:"Goust"},i=r._id,a=r.fullName,o=r.imgUrl,e.miniLoggedinUser={_id:i,fullName:a,imgUrl:o},e.avgRates(),e.eventi.members.find((function(t){return t._id===e.miniLoggedinUser._id}))&&(e.textBtn="leave event"),e.topic=e.eventi._id,M.emit("chat topic",e.topic),M.on("chat addMsg",e.addMsg),M.on("changesMember",e.changesMember),M.on("updatesEventi",(function(t){e.eventi=t})),e.$store.getters.loggedinUser&&e.$store.getters.loggedinUser.org&&e.$store.getters.loggedinUser.org._id===e.eventi.byOrg._id&&(e.eventi.notifications=0,e.$store.dispatch({type:"saveEventi",eventi:e.eventi}),M.emit("updateEventi",e.eventi),console.log("admin 0 notification",e.eventi));case 17:case"end":return t.stop()}}),t)})))()},destroyed:function(){this.msgs=[],this.msgChat="",M.off("chat addMsg",this.addMsg),M.off("changesMember",this.changesMember)},components:{avatar:$s.a,rateStarsEnable:Ls,chatApp:js}},Ds=Bs,Fs=Object(p["a"])(Ds,ys,ws,!1,null,null,null),As=Fs.exports,Js=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.org?s("section",{staticClass:"org-details"},[s("section",{staticClass:"top-page flex center space-between"},[s("section",{staticClass:"top-details"},[s("h2",{staticClass:"mb10"},[e._v(e._s(e.org.name))]),s("section",{staticClass:"flex"},[s("section",{staticClass:"rate-section"},[e.org.reviews.length?s("span",[s("i",{staticClass:"star fas fa-star"}),e._v(" "+e._s(e.org.rate)+" ("+e._s(e.org.reviews.length)+") ")]):s("span",[s("i",{staticClass:"star fas fa-star"}),e._v("New")])]),s("span",[e._v(e._s(e.org.country))])])]),e.isUserOrgAdmin?s("section",{staticClass:"status-details flex align-center text-center"},[s("el-button",{staticClass:"delete-btn",attrs:{type:"warning"},on:{click:e.removeOrg}},[e._v("Delete Organization")]),s("router-link",{staticClass:"el-button el-button--success",attrs:{type:"success",to:"/org-edit/"+e.org._id}},[e._v("Edit")]),e.isUserOrgAdmin?s("router-link",{staticClass:"add-eventi el-button el-button--success",attrs:{to:"/eventi-edit"}},[e._v("Add Event")]):e._e()],1):e._e()]),s("section",{staticClass:"org-imgs"},e._l(e.org.imgUrls,(function(e,t){return s("img",{key:t,staticClass:"org-img",attrs:{src:e}})})),0),s("main",[s("section",{staticClass:"details"},[s("section",{staticClass:"top-details flex space-between align-center wrap"},[s("section",{staticClass:"mini-user flex align-center mb10"},[s("avatar",{staticClass:"mr10",staticStyle:{"background-position":"center","background-size":"cover"},attrs:{src:e.org.admin.imgUrl,username:e.org.admin.fullName}}),s("span",[e._v(e._s(e.org.admin.fullName))])],1),e._m(0)]),s("hr"),s("p",{staticClass:"org-goals"},[e._v(e._s(e.org.goals))]),s("hr"),s("section",{staticClass:"tags-section flex align-center wrap"},[s("span",{staticClass:"bold mr16"},[e._v("Categories")]),s("section",{staticClass:"tags"},e._l(e.org.tags,(function(t,n){return s("span",{key:n,staticClass:"tag text-center mrg5"},[s("i",{class:e.tagsIcon[t]}),e._v(" "+e._s(t)+" ")])})),0)]),s("hr"),s("section",{staticClass:"org-desc"},[s("p",[e._v(e._s(e.org.desc))])]),s("hr"),s("section",{staticClass:"org-eventis"},[s("span",{staticClass:"bold"},[e._v("Our Events")]),s("eventi-list",{attrs:{eventis:e.orgEventis}})],1),s("hr"),s("section",{staticClass:"reviews-section flex column center"},[s("section",{staticClass:"add-review flex align-center text-center mb10"},[s("el-input",{attrs:{type:"text",placeholder:"Enter your review",name:"review"},model:{value:e.reviewToEdit.txt,callback:function(t){e.$set(e.reviewToEdit,"txt",t)},expression:"reviewToEdit.txt"}}),s("el-button",{attrs:{type:"success"},on:{click:e.addReview}},[e._v("Add review")]),s("rate-stars-enable",{staticClass:"mb10",model:{value:e.reviewToEdit.rate,callback:function(t){e.$set(e.reviewToEdit,"rate",t)},expression:"reviewToEdit.rate"}})],1),s("span",{staticClass:"text-center mrg5"},[e._v("Reviews")]),s("section",{staticClass:"reviews flex wrap center"},e._l(e.org.reviews,(function(t){return s("section",{key:t._id,staticClass:"review flex column mrg5"},[s("section",{staticClass:"details-review flex align-center"},[s("avatar",{staticStyle:{"background-position":"center","background-size":"cover"},attrs:{src:t.author.imgUrl,username:t.author.fullName}}),s("span",{staticClass:"review-rate"},[e._v(e._s(t.rate)),s("i",{staticClass:"star fas fa-star"})]),s("span",{staticClass:"time mrg5"},[e._v(" "+e._s(e.moment(t.createdAt).startOf("minute").fromNow())+" ")])],1),s("section",{staticClass:"content-review flex align-center text-center"},[s("span",{staticClass:"name-review mrg5"},[e._v(e._s(t.author.fullName)+": ")]),s("span",{staticClass:"txt-review"},[e._v(e._s(t.txt))])])])})),0)])])])]):e._e()},Ms=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"facebook-btn"},[s("div",{staticClass:"fb-like",attrs:{"data-href":"https://www.facebook.com/HeroesforLifeIsrael","data-width":"200","data-layout":"standard","data-action":"like","data-size":"large","data-share":"true"}}),s("iframe",{staticStyle:{border:"none",overflow:"hidden"},attrs:{src:"https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2FHeroesforLifeIsrael&width=200&layout=standard&action=like&size=large&share=true&height=35&appId",width:"350",height:"35",scrolling:"no",frameborder:"0",allowfullscreen:"true",allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"}})])}],zs=s("c1df"),Ps={name:"orgDetails",data:function(){return{moment:zs,org:null,reviewToEdit:{author:{},txt:"",rate:5},miniLoggedinUser:null,textBtn:"Join us!",msg:"no Rates"}},computed:{tagsIcon:function(){return this.$store.getters.tagsIcon},orgEventis:function(){var e=this,t=this.$store.getters.eventisForDisplay.filter((function(t){if(t.byOrg)return t.byOrg._id===e.org._id}));return t},isUserOrgAdmin:function(){var e=this.$store.getters.loggedinUser;return!(!e||!e.isAdmin)||!(!e||!e.org||e.org._id!==this.org._id)}},methods:{avgRates:function(){var e=0;this.org.reviews.forEach((function(t){e+=t.rate})),this.org.rate=e/this.org.reviews.length},addReview:function(){if(!this.$store.getters.loggedinUser)return this.$message({showClose:!0,message:"You need login first",type:"warning",duration:1500}),void(this.reviewToEdit.txt="");this.reviewToEdit.rate=Number(this.reviewToEdit.rate),this.reviewToEdit.createdAt=Date.now(),this.reviewToEdit._id=It.makeId(),this.reviewToEdit.author=JSON.parse(JSON.stringify(this.miniLoggedinUser)),this.org.reviews.push(this.reviewToEdit),this.avgRates(),console.log(this.org),this.$store.dispatch({type:"saveOrg",org:JSON.parse(JSON.stringify(this.org))}),this.reviewToEdit={author:{},txt:"",rate:5}},removeOrg:function(){var e=this;return Object(ke["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"removeOrgById",orgId:e.org._id});case 2:s=t.sent,s.type?e.$message({showClose:!0,message:"".concat(e.org.title," removed sucessfully!"),type:"success",duration:1500}):e.$message({showClose:!0,message:"".concat(e.org.title," cant removed, err ").concat(s.err),type:"warning",duration:1500}),e.$router.go(-1);case 5:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(ke["a"])(regeneratorRuntime.mark((function t(){var s,n,r,i,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.dispatch({type:"setEventis"}),s=e.$route.params.orgId,t.next=4,It.getById(s);case 4:n=t.sent,e.org=JSON.parse(JSON.stringify(n))||{},r=JSON.parse(JSON.stringify(e.$store.getters.loggedinUser))||{_id:"",fullName:"Goust",imgUrl:""},i=r._id,a=r.fullName,o=r.imgUrl,e.miniLoggedinUser={_id:i,fullName:a,imgUrl:o},e.avgRates(),M.on("updatesEventi",(function(){e.$store.dispatch({type:"setEventis"})}));case 11:case"end":return t.stop()}}),t)})))()},components:{avatar:$s.a,rateStarsEnable:Ls,eventiList:Te}},Ks=Ps,Ys=Object(p["a"])(Ks,Js,Ms,!1,null,null,null),qs=Ys.exports,Hs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.user?s("section",{staticClass:"user-details"},[s("h2",[e._v("user details")]),e.user.imgUrl?s("avatar",{attrs:{src:e.user.imgUrl,username:e.user.fullName}}):e._e(),s("h3",[e._v("Name: "+e._s(e.user.fullName))]),s("div",{staticClass:"skills clean-list mb10"},[s("h3",{staticClass:"mrg0"},[e._v("Skills:")]),e._l(e.user.skills,(function(t,n){return s("section",{key:n},[e._v(" "+e._s(t)+" ")])}))],2),s("div",{staticClass:"favs clean-list mb10"},[s("h3",{staticClass:"mrg0"},[e._v("Favorites:")]),e._l(e.user.favs,(function(t,n){return s("section",{key:n},[e._v(" "+e._s(t)+" ")])}))],2),s("h3",[e._v("My Events")]),e.user.events.length?s("eventi-list",{attrs:{eventis:e.eventis}}):s("h4",[e._v("Join Events!")]),s("h3",[e._v("My Organization")]),e.user.org?s("org-list",{attrs:{orgs:e.org}}):s("h4",[e._v("Make your own Organization")])],1):e._e()},Gs=[],Vs={name:"user-details",computed:{user:function(){return this.$store.getters.loggedinUser},eventis:function(){var e=this;return this.user.events.map((function(t){return e.$store.getters.eventisForDisplay.find((function(e){return e._id===t._id}))}))},org:function(){var e=this;console.log(this.$store.getters.orgsForDisplay);var t=this.$store.getters.orgsForDisplay.find((function(t){return t._id===e.user.org._id}));console.log("org",t);var s=[];return s.push(t),s}},created:function(){var e=this;return Object(ke["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch({type:"setEventis"}),e.$store.dispatch({type:"setOrgs"});case 2:case"end":return t.stop()}}),t)})))()},components:{avatar:$s.a,eventiList:Te,orgList:lt}},Ws=Vs,Qs=Object(p["a"])(Ws,Hs,Gs,!1,null,null,null),Xs=Qs.exports;r["default"].use(X["a"]);var Zs,en=[{path:"/",name:"Home",component:Pe},{path:"/eventi-app",name:"eventiApp",component:Ve},{path:"/org-app",name:"orgApp",component:pt},{path:"/org-edit/:orgId?",name:"orgEdit",component:Ht},{path:"/eventi-edit/:_id?",name:"eventiEdit",component:gs},{path:"/login",name:"login",component:bs},{path:"/eventi-details/:eventiId",name:"eventiDetails",component:As},{path:"/org-details/:orgId",name:"orgDetails",component:qs},{path:"/user-details/:userId",name:"userDetails",component:Xs}],tn=new X["a"]({routes:en}),sn=tn,nn=s("2f62"),rn=s("ade3"),an={state:{eventis:[],tags:["Animals","Children","Food","Needy","COVID-19","Fun","Baby"],neededs:["Doctors","Managers","Chefs","Teachers","Workers"],accommodation:["food","housing"],tagsIcon:(Zs={Animals:"fas fa-paw",Children:"fas fa-child",Food:"fas fa-utensils",Needy:"fas fa-hand-holding-heart"},Object(rn["a"])(Zs,"COVID-19","fas fa-biohazard"),Object(rn["a"])(Zs,"Fun","far fa-smile-beam"),Object(rn["a"])(Zs,"Baby","fas fa-baby"),Zs),neededsIcon:{Doctors:"fas fa-user-md",Managers:"fas fa-sitemap",Chefs:"fas fa-bread-slice",Teachers:"fas fa-graduation-cap",Workers:"fas fa-tractor"},accommodationIcon:{food:"fas fa-utensils",housing:"fas fa-bed"}},getters:{eventisForDisplay:function(e){return console.log("eventisForDisplay",e.eventis),e.eventis},tags:function(e){return e.tags},neededs:function(e){return e.neededs},allFilds:function(e){try{var t={keyList:["country","category","organization","accommodation"],options:{}};return t.options.country=[],t.options.country=e.eventis.map((function(e){if(!t.options.country.includes(e.location.country))return e.location.country})),t.options.country=t.options.country.reduce((function(e,t){return e.includes(t)||e.push(t),e}),[]),t.options.category=[],e.eventis.forEach((function(e){var s;(s=t.options.category).push.apply(s,Object(te["a"])(e.tags))})),t.options.category=t.options.category.reduce((function(e,t){return e.includes(t)||e.push(t),e}),[]),t.options.tags=t.options.category,t.options.organization=[],t.options.organization=e.eventis.map((function(e){if(!t.options.organization.includes(e.byOrg.name))return e.byOrg.name})),t.options.organization=t.options.organization.reduce((function(e,t){return e.includes(t)||e.push(t),e}),[]),t.options.accommodation=[],e.eventis.forEach((function(e){var s;e.accommodation&&(s=t.options.accommodation).push.apply(s,Object(te["a"])(e.accommodation))})),t.options.accommodation=t.options.accommodation.reduce((function(e,t){return e.includes(t)||e.push(t),e}),[]),console.log("optionFilds",t),t}catch(s){console.log(s)}},tagsIcon:function(e){return e.tagsIcon},neededsIcon:function(e){return e.neededsIcon},accommodationIcon:function(e){return e.accommodationIcon}},mutations:{setEventis:function(e,t){var s=t.eventis;e.eventis=s},addEventi:function(e,t){var s=t.eventi;e.eventis.push(s)},updateEventi:function(e,t){var s=t.eventi,n=e.eventis.findIndex((function(e){return e._id===s._id}));e.eventis.splice(n,1,s)},removeEventiById:function(e,t){var s=t.eventId,n=e.eventis.findIndex((function(e){return e._id===s}));e.eventis.splice(n,1)}},actions:{saveEventi:function(e,t){return Object(ke["a"])(regeneratorRuntime.mark((function s(){var n,r,i,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=e.commit,r=t.eventi,s.prev=2,console.log("saveStoreEventi",r),i=r._id?"updateEventi":"addEventi",s.next=7,Qt.save(r);case 7:return a=s.sent,console.log("saved",a),n({type:i,eventi:a}),s.abrupt("return",{type:!0,err:null});case 13:return s.prev=13,s.t0=s["catch"](2),s.abrupt("return",{type:!1,err:s.t0});case 16:case"end":return s.stop()}}),s,null,[[2,13]])})))()},setEventis:function(e){return Object(ke["a"])(regeneratorRuntime.mark((function t(){var s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,t.prev=1,console.log("setEventi"),t.next=5,Qt.query();case 5:return n=t.sent,s({type:"setEventis",eventis:n}),t.abrupt("return",{type:!0,err:null});case 10:return t.prev=10,t.t0=t["catch"](1),console.log("err",t.t0),t.abrupt("return",{type:!1,err:t.t0});case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()},removeEventiById:function(e,t){return Object(ke["a"])(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=e.commit,s.prev=1,s.next=4,Qt.remove(t.eventiId);case 4:return n(t),s.abrupt("return",{type:!0,err:null});case 8:return s.prev=8,s.t0=s["catch"](1),s.abrupt("return",{type:!1,err:s.t0});case 11:case"end":return s.stop()}}),s,null,[[1,8]])})))()},setSortEventis:function(e,t){return Object(ke["a"])(regeneratorRuntime.mark((function s(){var n,r,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=e.commit,r=t.sortBy,console.log(r),s.next=5,Qt.getSortList(r);case 5:i=s.sent,n({type:"setEventis",eventis:i});case 7:case"end":return s.stop()}}),s)})))()},getEventiById:function(e,t){return Object(ke["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t._id,e.next=3,Qt.getById(s);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))()}}},on={state:{orgs:[]},getters:{orgsForDisplay:function(e){return e.orgs}},mutations:{setOrgs:function(e,t){var s=t.orgs;e.orgs=s},addOrg:function(e,t){var s=t.org;e.orgs.push(s)},updateOrg:function(e,t){var s=t.org,n=e.orgs.findIndex((function(e){return e._id===s._id}));e.orgs.splice(n,1,s)},removeOrgById:function(e,t){var s=t.orgId,n=e.orgs.findIndex((function(e){return e._id===s}));e.orgs.splice(n,1)}},actions:{saveOrg:function(e,t){return Object(ke["a"])(regeneratorRuntime.mark((function s(){var n,r,i,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=e.commit,r=t.org,s.prev=2,console.log("saveStoreOrg",r),i=r._id?"updateOrg":"addOrg",s.next=7,It.save(r);case 7:return a=s.sent,console.log("saved",a),n({type:i,org:a}),s.abrupt("return",{type:!0,org:a,err:null});case 13:return s.prev=13,s.t0=s["catch"](2),s.abrupt("return",{type:!1,err:s.t0});case 16:case"end":return s.stop()}}),s,null,[[2,13]])})))()},setOrgs:function(e){return Object(ke["a"])(regeneratorRuntime.mark((function t(){var s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,t.prev=1,t.next=4,It.query();case 4:return n=t.sent,s({type:"setOrgs",orgs:n}),t.abrupt("return",{type:!0,err:null});case 9:return t.prev=9,t.t0=t["catch"](1),console.log("err",t.t0),t.abrupt("return",{type:!1,err:t.t0});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},removeOrgById:function(e,t){return Object(ke["a"])(regeneratorRuntime.mark((function s(){var n,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=e.commit,r=e.dispatch,s.prev=1,s.next=4,It.remove(t.orgId);case 4:return n(t),t.orgEventis.forEach((function(e){r({type:"removeEventiById",eventiId:e._id},{root:!0})})),s.abrupt("return",{type:!0,err:null});case 9:return s.prev=9,s.t0=s["catch"](1),s.abrupt("return",{type:!1,err:s.t0});case 12:case"end":return s.stop()}}),s,null,[[1,9]])})))()},setSortOrgs:function(e,t){return Object(ke["a"])(regeneratorRuntime.mark((function s(){var n,r,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=e.commit,r=t.sortBy,console.log(r),s.next=5,It.getSortList(r);case 5:i=s.sent,n({type:"setOrgs",orgs:i});case 7:case"end":return s.stop()}}),s)})))()},getOrgById:function(e,t){return Object(ke["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.orgId,e.next=3,It.getById(s);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))()}}},cn={login:pn,logout:hn,signup:mn,getUsers:ln,getById:un,remove:dn,update:gn};function ln(){return wt.get("user")}function un(e){return wt.get("user/".concat(e))}function dn(e){return wt.delete("user/".concat(e))}function gn(e){return wt.put("user/".concat(e._id),e)}function pn(e){return fn.apply(this,arguments)}function fn(){return fn=Object(ke["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,wt.post("auth/login",t);case 2:return s=e.sent,e.abrupt("return",yn(s));case 4:case"end":return e.stop()}}),e)}))),fn.apply(this,arguments)}function mn(e){return vn.apply(this,arguments)}function vn(){return vn=Object(ke["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,wt.post("auth/signup",t);case 2:return s=e.sent,e.abrupt("return",yn(s));case 4:case"end":return e.stop()}}),e)}))),vn.apply(this,arguments)}function hn(){return bn.apply(this,arguments)}function bn(){return bn=Object(ke["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,wt.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)}))),bn.apply(this,arguments)}function yn(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}var wn=null;sessionStorage.user&&(wn=JSON.parse(sessionStorage.user));var _n={state:{loggedinUser:wn,users:[]},getters:{users:function(e){return e.users},loggedinUser:function(e){return e.loggedinUser}},mutations:{setUser:function(e,t){var s=t.user;e.loggedinUser=s,sessionStorage.user=JSON.stringify(s)},setUsers:function(e,t){var s=t.users;e.users=s},removeUser:function(e,t){var s=t.userId;e.users=e.users.filter((function(e){return e._id!==s}))}},actions:{login:function(e,t){return Object(ke["a"])(regeneratorRuntime.mark((function s(){var n,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=t.userCred,s.next=3,cn.login(n);case 3:return r=s.sent,console.log(r),e.commit({type:"setUser",user:r}),s.abrupt("return",r);case 7:case"end":return s.stop()}}),s)})))()},signup:function(e,t){return Object(ke["a"])(regeneratorRuntime.mark((function s(){var n,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=t.userCred,s.next=3,cn.signup(n);case 3:return r=s.sent,e.commit({type:"setUser",user:r}),console.log("signup -> user",r),s.abrupt("return",r);case 7:case"end":return s.stop()}}),s)})))()},logout:function(e){return Object(ke["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,cn.logout();case 2:return e.commit({type:"setUsers",users:[]}),e.commit({type:"setUser",user:null}),t.abrupt("return",{type:!0,err:null});case 5:case"end":return t.stop()}}),t)})))()},loadUsers:function(e){return Object(ke["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,cn.getUsers();case 2:s=t.sent,e.commit({type:"setUsers",users:s});case 4:case"end":return t.stop()}}),t)})))()},removeUser:function(e,t){return Object(ke["a"])(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=t.userId,s.next=3,cn.remove(n);case 3:e.commit({type:"removeUser",userId:n});case 4:case"end":return s.stop()}}),s)})))()},updateUser:function(e,t){return Object(ke["a"])(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=t.user,console.log(n),s.next=4,cn.update(n);case 4:return n=s.sent,console.log(n),e.commit({type:"setUser",user:n}),s.abrupt("return",{type:!0});case 8:case"end":return s.stop()}}),s)})))()}}};r["default"].use(nn["a"]);var Cn=new nn["a"].Store({state:{},mutations:{},actions:{},modules:{eventiStore:an,userStore:_n,orgStore:on}}),xn=s("c1df"),kn=s.n(xn),On=s("5c96"),jn=s.n(On),En=s("b2d6"),$n=s.n(En);s("0fae");r["default"].use(jn.a,{locale:$n.a}),kn()().format(),r["default"].config.productionTip=!1,new r["default"]({router:sn,store:Cn,render:function(e){return e(W)}}).$mount("#app")},"5c0b":function(e,t,s){"use strict";s("9c0c")},"77ad":function(e,t,s){"use strict";s("4c2b")},"9c0c":function(e,t,s){},a57b:function(e,t,s){},ce55:function(e,t,s){"use strict";s("a57b")},f375:function(e,t,s){},f9dd:function(e,t,s){"use strict";s("f375")}});
//# sourceMappingURL=app.4f43b905.js.map